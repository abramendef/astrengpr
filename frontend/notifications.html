<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notificaciones - Astren</title>
    <meta name="description" content="Centro de notificaciones de Astren - Mantente actualizado con tu actividad y la de tus grupos.">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- CSS -->
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/sidebar.css">
    <link rel="stylesheet" href="css/dashboard.css">
    <link rel="stylesheet" href="css/notifications.css">
</head>
<body>
    <div class="dashboard">
        <!-- El sidebar será inyectado dinámicamente por sidebar-new.js -->

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="dashboard__header">
                <div class="header__container">
                    <div class="header__left">
                        <button class="mobile-menu-btn" id="mobileMenuBtn">
                            <i class="fas fa-bars"></i>
                        </button>
                        <h1 class="header__title">Notificaciones</h1>
                    </div>
                    <div class="header__right">
                        <div class="header__search">
                            <i class="fas fa-search"></i>
                            <input type="text" placeholder="Buscar notificaciones..." class="search__input">
                        </div>
                        <button class="header__notification">
                            <i class="fas fa-bell"></i>
                            <span class="notification__badge">3</span>
                        </button>
                        <div class="header__profile">
                            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='%233366FF'%3E%3Cpath fill-rule='evenodd' d='M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z' clip-rule='evenodd' /%3E%3C/svg%3E" alt="Avatar">
                        </div>
                    </div>
                </div>
            </header>

            <!-- Notifications Content -->
            <div class="dashboard__content">
                <!-- Filters -->
                <div class="notifications__filters">
                    <div class="filter-tabs">
                        <button class="filter-tab filter-tab--active" data-filter="all">
                            <i class="fas fa-list"></i>
                            Todas
                            <span class="tab__count">12</span>
                        </button>
                        <button class="filter-tab" data-filter="unread">
                            <i class="fas fa-bell"></i>
                            Sin leer
                            <span class="tab__count">3</span>
                        </button>
                        <button class="filter-tab" data-filter="tasks">
                            <i class="fas fa-tasks"></i>
                            Tareas
                            <span class="tab__count">5</span>
                        </button>
                        <button class="filter-tab" data-filter="groups">
                            <i class="fas fa-users"></i>
                            Grupos
                            <span class="tab__count">4</span>
                        </button>
                        <button class="filter-tab" data-filter="reputation">
                            <i class="fas fa-star"></i>
                            Reputación
                            <span class="tab__count">3</span>
                        </button>
                    </div>
                </div>

                <!-- Notifications List -->
                <div class="notifications__list" id="notifications-list">
                    <!-- Notifications will be loaded here by JavaScript -->
                </div>

                <!-- Empty State -->
                <div class="empty-state" id="notifications-empty" style="display: none;">
                    <div class="empty-state__icon">
                        <i class="fas fa-bell-slash"></i>
                    </div>
                    <h3 class="empty-state__title">No hay notificaciones</h3>
                    <p class="empty-state__description">
                        Cuando tengas nueva actividad aparecerá aquí.
                    </p>
                </div>

                <!-- Load More -->
                <div class="notifications__footer" id="notifications-footer">
                    <button class="button button--ghost" id="load-more-btn">
                        <i class="fas fa-chevron-down"></i>
                        Cargar más notificaciones
                    </button>
                </div>
            </div>
        </main>
    </div>
    
    <!-- Notification Settings Modal -->
    <div class="modal" id="notification-settings-modal">
        <div class="modal__content">
            <div class="modal__header">
                <h2 class="modal__title">Configuración de Notificaciones</h2>
                <button class="modal__close" onclick="closeNotificationSettingsModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="modal__body">
                <form class="modal__form" id="notification-settings-form">
                    <div class="settings__section">
                        <h3 class="settings__section-title">
                            <i class="fas fa-bell"></i>
                            Notificaciones Push
                        </h3>
                        
                        <div class="form__group">
                            <div class="form__toggle">
                                <input type="checkbox" id="push-notifications" class="toggle__input" checked>
                                <label for="push-notifications" class="toggle__label">
                                    <span class="toggle__text">Activar notificaciones push</span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="settings__section">
                        <h3 class="settings__section-title">
                            <i class="fas fa-tasks"></i>
                            Tareas
                        </h3>
                        
                        <div class="form__group">
                            <div class="form__toggle">
                                <input type="checkbox" id="task-assignments" class="toggle__input" checked>
                                <label for="task-assignments" class="toggle__label">
                                    <span class="toggle__text">Nuevas asignaciones de tareas</span>
                                </label>
                            </div>
                        </div>
                        
                        <div class="form__group">
                            <div class="form__toggle">
                                <input type="checkbox" id="task-deadlines" class="toggle__input" checked>
                                <label for="task-deadlines" class="toggle__label">
                                    <span class="toggle__text">Recordatorios de fechas límite</span>
                                </label>
                            </div>
                        </div>
                        
                        <div class="form__group">
                            <div class="form__toggle">
                                <input type="checkbox" id="task-completions" class="toggle__input" checked>
                                <label for="task-completions" class="toggle__label">
                                    <span class="toggle__text">Tareas completadas por otros</span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="settings__section">
                        <h3 class="settings__section-title">
                            <i class="fas fa-users"></i>
                            Grupos
                        </h3>
                        
                        <div class="form__group">
                            <div class="form__toggle">
                                <input type="checkbox" id="group-invitations" class="toggle__input" checked>
                                <label for="group-invitations" class="toggle__label">
                                    <span class="toggle__text">Invitaciones a grupos</span>
                                </label>
                            </div>
                        </div>
                        
                        <div class="form__group">
                            <div class="form__toggle">
                                <input type="checkbox" id="group-activities" class="toggle__input" checked>
                                <label for="group-activities" class="toggle__label">
                                    <span class="toggle__text">Actividades en mis grupos</span>
                                </label>
                            </div>
                        </div>
                        
                        <div class="form__group">
                            <div class="form__toggle">
                                <input type="checkbox" id="new-members" class="toggle__input">
                                <label for="new-members" class="toggle__label">
                                    <span class="toggle__text">Nuevos miembros en grupos</span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="settings__section">
                        <h3 class="settings__section-title">
                            <i class="fas fa-star"></i>
                            Reputación
                        </h3>
                        
                        <div class="form__group">
                            <div class="form__toggle">
                                <input type="checkbox" id="reputation-changes" class="toggle__input" checked>
                                <label for="reputation-changes" class="toggle__label">
                                    <span class="toggle__text">Cambios en mi reputación</span>
                                </label>
                            </div>
                        </div>
                        
                        <div class="form__group">
                            <div class="form__toggle">
                                <input type="checkbox" id="new-badges" class="toggle__input" checked>
                                <label for="new-badges" class="toggle__label">
                                    <span class="toggle__text">Nuevas insignias obtenidas</span>
                                </label>
                            </div>
                        </div>
                        
                        <div class="form__group">
                            <div class="form__toggle">
                                <input type="checkbox" id="milestone-achievements" class="toggle__input" checked>
                                <label for="milestone-achievements" class="toggle__label">
                                    <span class="toggle__text">Logros y hitos importantes</span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="settings__section">
                        <h3 class="settings__section-title">
                            <i class="fas fa-envelope"></i>
                            Email
                        </h3>
                        
                        <div class="form__group">
                            <label for="email-frequency" class="form__label">Frecuencia de resúmenes por email</label>
                            <select id="email-frequency" class="form__select">
                                <option value="none">Nunca</option>
                                <option value="daily">Diario</option>
                                <option value="weekly" selected>Semanal</option>
                                <option value="monthly">Mensual</option>
                            </select>
                        </div>
                        
                        <div class="form__group">
                            <div class="form__toggle">
                                <input type="checkbox" id="important-emails" class="toggle__input" checked>
                                <label for="important-emails" class="toggle__label">
                                    <span class="toggle__text">Notificaciones importantes por email</span>
                                </label>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            
            <div class="modal__footer">
                <button type="button" class="button button--ghost" onclick="closeNotificationSettingsModal()">
                    Cancelar
                </button>
                <button type="button" class="button button--primary" onclick="saveNotificationSettings()">
                    <i class="fas fa-save"></i>
                    Guardar Configuración
                </button>
            </div>
        </div>
    </div>

    </div>
    
    <!-- JavaScript -->
    <script src="js/sidebar-new.js"></script>
    <script src="js/scripts.js"></script>
    <script src="js/notifications.js"></script>
    <script src="js/header-buttons.js"></script>
</body>
</html>