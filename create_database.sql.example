-- Script ejemplo para crear la base de datos en Astren
-- IMPORTANTE: Esta es una versión de EJEMPLO. No distribuir el schema completo en público.
-- Versión: 0.0.6

-- =====================
-- ESTRUCTURA BÁSICA
-- =====================
-- El schema de producción contiene:
-- - Tabla de usuarios (con hash de contraseñas)
-- - Tablas de tareas y áreas
-- - Tablas de grupos y colaboración
-- - Tablas de reputación y puntuaciones
-- - Índices de rendimiento optimizados
-- - Restricciones de integridad referencial

-- Para ver el schema COMPLETO:
-- 1. Clona el repositorio (privado en producción)
-- 2. Revisa scripts/schema/create_database.sql
-- 3. O solicita acceso al equipo de desarrollo

CREATE DATABASE astren CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
USE astren;

-- =====================
-- TABLA PRINCIPAL: USUARIOS
-- =====================
CREATE TABLE usuarios (
    id INT NOT NULL AUTO_INCREMENT,
    nombre VARCHAR(100) NOT NULL,
    apellido VARCHAR(100) NOT NULL,
    correo VARCHAR(100) NOT NULL UNIQUE,
    contrasena VARCHAR(255) NOT NULL,    -- Bcrypt hashed
    telefono VARCHAR(20) DEFAULT NULL,
    fecha_creacion DATETIME DEFAULT CURRENT_TIMESTAMP,
    PRIMARY KEY (id)
) ENGINE=InnoDB;

-- =====================
-- NOTAS DE SEGURIDAD
-- =====================
-- ⚠️  NUNCA:
-- - Almacenar contraseñas en texto plano
-- - Incluir datos de usuarios reales
-- - Subir este archivo con datos de prueba sensibles
-- 
-- ✅ SIEMPRE:
-- - Hash con bcrypt o similar (min 10 rounds)
-- - Usar prepared statements (previene SQL injection)
-- - Validar inputs en backend
-- - Usar HTTPS en producción
-- - Implementar rate limiting en login
